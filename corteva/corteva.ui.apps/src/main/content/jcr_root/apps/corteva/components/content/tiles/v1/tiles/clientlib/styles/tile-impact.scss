.det05-tile-impact {
  display: block;
  text-align: left;

  width: 328px;
  height: 328px;

  width: calc(50% - #{$mgap});

  @media screen and (min-width: $tablet) {
    width: calc(33.333% - #{$gap});
  }

  /* Force height to equal width */
  height: auto;

  &:before {
    content: "";
    display: block;
    padding-top: 100%;
    float: left;
  }

  position: relative;
  overflow: hidden;

  display: inline-block;
  margin-right: $mgap;
  margin-bottom: $mgap;

  @media screen and (min-width: $tablet) {
    margin-right: $gap;
    margin-bottom: $gap;
  }

  /* Link internal/external icons */


  &:hover {
    a .label:after {
      background-image: $internal-blue;
    }

    a.external .label:after {
      background-image: $external-blue;
    }

    picture {
      &:before {
        border-right-color: $base;
      }
    }
  }

  &.invert {

    picture {
      &:before {
        border-right: 20px solid $base;
      }
    }

    a .label:after {
      background-image: $internal-blue;
    }

    a.external .label:after {
      background-image: $external-blue;
    }

    background: $base;
    color: $brand-primary;

    .eyebrow {
      color: $foundation-primary;
    }

    span {
      color: $brand-primary;
    }

    &:hover {
      a .label:after {
        background-image: $internal-white;
      }

      a.external .label:after {
        background-image: $external-white;
      }

      background: $brand-primary;
      color: $base;

      span {
        color: $base;
      }

      .eyebrow {
        color: $base;
      }

      picture {
        &:before {
          border-right-color: $brand-primary;
        }
      }
    }
  }

  transition: background 340ms ease;
  background: $brand-primary;
    
  &.blue {
    background: $authrable-color-blue; 
  }
    
  &.maroon {
    background: $authrable-color-maroon; 
  }

  span {
    color: $base;
    transition: color 340ms ease;

    &.eyebrow {
      color: $base;
    }
  }

  &:hover {
    background: $base;

    span {
      color: $brand-primary;
    }

    .eyebrow {
      color: $foundation-primary;
    }
  }

  a {
    display: block;
    width: 100%;
    height: 100%;
  }

  img {
    display: block;
    width: 52%;
    width: calc(50% + 10px);
    height: 100%;
    object-fit: cover;

    @media screen and (max-width: $mobile) {
      width: calc(50% + 10px);
    }

  }

  .title {
    font-weight: 700;
    font-family: $brand-font;
    font-size: $heading-s;
    line-height: 30px;

    position: absolute;
    top: 25px;
    right: 0;

    width: 100%;

    padding: 0 30px;
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;

    @media screen and (max-width: $mobile) {
      font-size: 15px;
      line-height: 18px;
      top: 15px;
      padding: 0 15px;
      -webkit-line-clamp: 3;
    }
  }

  .eyebrow {
    position: absolute;
    top: 25px;
    left: 30px;
    font-size: $font-sm;
    font-weight: bold;
    width: 100%;

    @media screen and (max-width: $mobile) {
      display: none;
    }
  }

  .eyebrow~.title {
    top: 54px;

    @media screen and (max-width: $mobile) {
      top: 25px;
    }
  }

  .label {
    font-size: $font-m;
    line-height: 20px;
    font-weight: bold;
    position: absolute;
    bottom: 25px;
    left: 30px;

    @media screen and (max-width: $mobile) {
      font-size: 0;
      left: 15px;
      bottom: 15px;
    }

    &:after {
      content: "";
      background: $internal-white center center no-repeat;
      background-size: contain;
      width: 17px;
      height: 10px;
      display: inline-block;
      vertical-align: middle;
      margin-left: 8px;
    }
  }

  a.external .label:after {
    background-image: $external-white;
    width: 13px;
    height: 13px;
  }
}

.det06-tile-impact-expanded {
  width: 676px;

  width: calc(66.66% - #{$gap});

  @media screen and (max-width: $tablet) {
    width: 100%;

    /* If there's an odd number of tiles and the last tile is expanded, show it as a regular tile (1x1) for tablet and down */
    &:nth-child(odd):last-child {
      width: calc(50% - #{$mgap});

      picture {
        display: none;
      }

      span {
        width: 100%;
      }
    }
  }

  /* Force height to equal 1/2 width */
  height: auto;

  &:before {
    padding-top: 50%;
  }

  .title {
    left: calc(50% + 20px);
    width: calc(50% - 20px);
    display: -webkit-box;

    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;

    @media screen and (max-width: $mobile) {
      -webkit-line-clamp: 3;
    }
  }

  .label,
  .eyebrow {
    left: calc(50% + 20px);
    padding-left: 30px;
    padding-right: 30px;
    width: 50%;

    @media screen and (max-width: $mobile) {
      padding-left: 15px;
    }
  }

  picture {
    overflow: hidden;

    &:before {
      content: "";
      width: 0;
      height: 0;
      border-top: 20px solid transparent;
      border-right: 20px solid $brand-primary;
      border-bottom: 20px solid transparent;
      position: absolute;
      z-index: 8;
      right: 48%;
      bottom: 8%;
      @media screen and (max-width: 550px) {
        right: 47%;
      }

      &:hover {
        border-right-color: $base
      }
    }
  }

  img {
    transition: all 340ms ease;
    transform-origin: right bottom;
    position: absolute;
  }

  &.image-on-right {
    img {
      position: absolute;
      right: 0;
      transform-origin: left bottom;
    }

    .title,
    .label,
    .eyebrow {
      right: auto;
      left: 0;
    }

    picture {
      &:before {
        right: auto;
        left: 48%;
        bottom: 8%;
        transform: rotate(180deg);
        @media screen and (max-width: 600px) {
          left: 47%;
        }
      }
    }
  }
}

.impact>.aem-Grid {
  text-align: center;
  font-size: 0;
  display: flex;
  flex-wrap: wrap;
  margin-right: -$mgap;

  @media screen and (min-width: $tablet) {
    margin-right: -$gap;
  }
}
