
<sly
	data-sly-use.clientlib="/libs/granite/sightly/templates/clientlib.html"></sly>
<sly data-sly-call="${clientlib.all @ categories='corteva.component.privacy'}"></sly>

<!--Wrapper for loaded modules-->
<div class="bgdss-contactPage">
	<sly data-sly-use.formObj="com.corteva.model.component.models.vendor.CortevaPrivacyForm">
	<script src="https://www.google.com/recaptcha/api.js?onload=loadCaptcha&render=explicit&hl=${formObj.languageCode}" async defer></script>
	<!--Contact Form-->
	<div align="left" class="bgdss-contactForm">
		<div class="bgdss-scaler">
			<div class="bgdss-formHeader">
				<h2 class="bgdss-highlight">${properties.formheading}</h2>
				<p>${properties.headingtext}</p>
			</div>
		<form class="bgdss-form" name="${properties.formname}" id="${properties.formid}" action="${properties.actionurl}" method="POST" >
  		  <input type="hidden" name="retURL" value="${formObj.fullThankyouPagePath}">
          <input type="hidden" name="redirect_FullURL2" value="${formObj.fullThankyouPagePath}">
          <input type="hidden" name="action" value="${properties.actionurl}" />
          <input type="hidden" name=":redirect" value="${formObj.fullThankyouPagePath}"> 
          <input type="hidden" name="redirect_page" value="${formObj.fullThankyouPagePath}" /> 

          <input type="hidden" name="formid" value="${properties.formid}" />   
          <input type="hidden" name="formName" value="${properties.formname}" />
          <input type="hidden" name="00N4100000SFmsv" value="${properties.leadqueue}">
          <input type="hidden" name="00N4100000SFmu5" value="${properties.leadstatus}" /> 
          <input type="hidden" name="Debug" value="${properties.debug}" /> 
          <input type="hidden" name="oid" value="${properties.oid}" />
          <input type="hidden" name="00N4100000SFmtN" value="${properties.owningorg}"> 
          <input type="hidden" name="recordType" value="${properties.recordtype}" />
          <input type="hidden" name="_charset_" value="${properties.encoding}" />
          <input type="hidden" name="Campaign_ID" value="${properties.campaignid}" />
          <input type="hidden" name="00N4100000SFmtO" value="${properties.owningsbu}"/>
          <input type="hidden" name="00N4100000SFmtG" value="${properties.originname}" />
          <input type="hidden" name="00N4100000SFmtE" value="${properties.originchanneltype}"/>
          <input type="hidden" name="00N4100000SFmtH" value="${properties.origintrackingcode}"/>
          <input type="hidden" name="00N4100000SFmtk" value="${properties.region}"/>
          <input type="hidden" name="encoding" value="encoding" />
          <input type="hidden" name="refererValue" value="${formObj.refererDomainValue}"  id="refererValue"/>
          <!-- Origin Form--> 
		  <input type="hidden" name="00N4100000SFmtF" id="00N4100000SFmtF" value="${properties.originForm}"/>
		  <!-- OURL-->
		  <input type="hidden" name="00N4100000SFmtJ" id="00N4100000SFmtJ" value="${properties.originForm}"/>
			<!-- Google Recaptcha-->
          <input type="hidden" name="sitekey" id="sitekey" value="${properties.sitekey}"/>
          
			
		    <fieldset>
					<label for="hcompany">${properties.choosebusinesslbl}</label>
					<sly
						data-sly-test.acsListPath="${properties.businessunitslistpath}" />
					<sly
						data-sly-use.acsGenericItemMap="${'com.corteva.model.component.models.vendor.GetAcsGenericItemMap' @ acsListPath=acsListPath}" />
					<sly data-sly-test="${!properties.choosebusinesscheck}"><span class="form_leftcolmark"> *</span>
					<select name="${properties.choosebusiness}" class="choosebusiness required" id="${properties.choosebusiness}">
						<option value="">-${properties.dropdownselectlbl}-</option>
						<sly data-sly-list.key="${acsGenericItemMap.acsGenericMap}">
							<option value="${key}">${acsGenericItemMap.acsGenericMap[key]}</option>
						</sly>
					</select>                       
					<div class="errormessage" style="display: none;">${properties.chooseBusinessmsg ||"Please select the Business."}</div>
					</sly>
					<sly data-sly-test="${properties.choosebusinesscheck}">

                        <select name="${properties.choosebusiness}" class="choosebusiness required" id="${properties.choosebusiness}">
						<option value="">-${properties.dropdownselectlbl}-</option>
						<sly data-sly-list.key="${acsGenericItemMap.acsGenericMap}">
							<option value="${key}">${acsGenericItemMap.acsGenericMap[key]}</option>
						</sly>
					</select>				
					</sly>
				</fieldset> 


                <fieldset>					
                    	<label for="contactReason">${properties.contactReasonlbl}</label>
						<sly
						data-sly-test.acsListPath="${properties.contactreasonlistpath}" />
					<sly
						data-sly-use.acsGenericItemMap="${'com.corteva.model.component.models.vendor.GetAcsGenericItemMap' @ acsListPath=acsListPath}" />
						<sly data-sly-test="${!properties.contactReasoncheck}"> <span class="form_leftcolmark"> *</span>
                        <select name="${properties.contactReason}" class="contactReason required" id="${properties.contactReason}">
						<option value="">-${properties.dropdownselectlbl}-</option>
						<sly data-sly-list.key="${acsGenericItemMap.acsGenericMap}">
							<option value="${key}">${acsGenericItemMap.acsGenericMap[key]}</option>
						</sly>
						</select>					

					<div class="errormessage" style="display: none;">${properties.contactReasonmsg
						||"Please select the subject of your question."}</div>
					</sly>
					<sly data-sly-test="${properties.contactReasoncheck}"> 
                        <select name="${properties.contactReason}" class="contactReason required" id="${properties.contactReason}">
						<option value="">-${properties.dropdownselectlbl}-</option>
						<sly data-sly-list.key="${acsGenericItemMap.acsGenericMap}">
							<option value="${key}">${acsGenericItemMap.acsGenericMap[key]}</option>
						</sly>
						</select>
					<div class="errormessage" style="display: none;">${properties.contactReasonmsg
						||"Please select the subject of your question."}</div>
					</sly>
				</fieldset>

				<fieldset>
					<label for="description">${properties.questionlbl}</label>
					<sly data-sly-test="${properties.descriptioncheck}">					 
                    	<textarea rows="4" cols="25" name="description" class="questionfield"></textarea>
					</sly>
					<sly data-sly-test="${!properties.descriptioncheck}"><span class="form_leftcolmark"> *</span>
                    	<textarea rows="4" cols="25" name="description" class="required questionfield"></textarea>
						<div class="errormessage" style="display: none;">${properties.descriptionmsg || "Please enter your comments."}</div>
					</sly>
				</fieldset>

				<fieldset>
					<label for="firstName">${properties.firstnamelbl}</label>
					<sly data-sly-test="${!properties.firstnamecheck}"><span class="form_leftcolmark"> *</span>
                    	<input name="${properties.firstname}" type="text" id="firstName" class="required" />
						<div class="errormessage" style="display: none;">${properties.firstnamemsg || "Please enter your first name."}</div>
					</sly>
					<sly data-sly-test="${properties.firstnamecheck}">
                    	<input name="${properties.firstname}" type="text" id="firstName" />
                    </sly>
				</fieldset>

				<fieldset>
					<label for="lastName">${properties.lastnamelbl}</label>
					<sly data-sly-test="${!properties.lnamecheck}"><span class="form_leftcolmark"> *</span> 
					<input name="${properties.lastname}" type="text" id="lastName" class="required" />
						<div class="errormessage" style="display: none;">${properties.lastnamemsg ||"Please enter your last name."}</div>
					</sly>
					<sly data-sly-test="${properties.lnamecheck}">
                    	<input name="${properties.lastname}" type="text" id="lastName" />
                    </sly>
				</fieldset>

				<fieldset>
					<label for="company">${properties.companylbl}</label>
					<sly data-sly-test="${!properties.companycheck}"><span class="form_leftcolmark"> *</span> 
						<input name="${properties.company}" type="text" id="company" class="required"/> 
						<div class="errormessage" style="display: none;">${properties.companycheckmsg ||"Please enter Company Name."}</div>
					</sly>
					<sly data-sly-test="${properties.companycheck}">
						<input name="${properties.company}" type="text" id="company"/>
					</sly>
				</fieldset>
				<fieldset>
					<label for="country">${properties.locationlbl}</label>
					<sly
						data-sly-test.acsListPath="${properties.locationslistpath}" />
					<sly
						data-sly-use.acsGenericItemMap="${'com.corteva.model.component.models.vendor.GetAcsGenericItemMap' @ acsListPath=acsListPath}" />
					<sly data-sly-test="${!properties.locationcheck}"> <span class="form_leftcolmark"> *</span>
					<select name="${properties.location}" class="country" class="location required" id="${properties.location}">
						<option value="">-${properties.dropdownselectlbl}-</option>
						<sly data-sly-list.key="${acsGenericItemMap.acsGenericMap}">
							<option value="${key}">${acsGenericItemMap.acsGenericMap[key]}</option>
						</sly>
					</select> <div class="errormessage" style="display: none;">${properties.locationmsg ||"Please select your Location."}</div>
					</sly>
					<sly data-sly-test="${properties.locationcheck}"> 
					<select name="${properties.location}" id="${properties.location}"
						class="country required">
						<option value="">-${properties.dropdownselectlbl}-</option>
						<sly data-sly-list.key="${acsGenericItemMap.acsGenericMap}">
						<option value="${key}">${acsGenericItemMap.acsGenericMap[key]}</option>
						</sly>
					</select>					
					</sly>
				</fieldset>
				<fieldset>
					<label for="phone">${properties.phonelbl}</label>
					<sly data-sly-test="${properties.phonecheck}">
                    	<input name="${properties.phone}" type="tel" id="phone"  /> </sly>
					<sly data-sly-test="${!properties.phonecheck}"> <span class="form_leftcolmark"> *</span>
                    	<input name="${properties.phone}" type="tel" id="phone" class="required"  />
						<div class="errormessage" style="display: none;">${properties.phonemsg ||"Please enter valid phone number."}</div>
					</sly>
				</fieldset>

				<fieldset>
					<label for="email">${properties.emaillbl}</label>
					<sly data-sly-test="${properties.emailcheck}">
                    	<input name="${properties.email}" type="email" id="email" />
                    </sly>
					<sly data-sly-test="${!properties.emailcheck}"> <span class="form_leftcolmark"> *</span>
                    	<input name="${properties.email}" type="email" id="email" class="required" />
					<div class="errormessage" style="display: none;">${properties.emailmsg ||"Please enter valid email address."}</div>
					</sly>
				</fieldset>

				<sly data-sly-list.itemsList=${formObj.HiddenFieldList}>
                	<input type="hidden" name="${itemsList.name}" value="${itemsList.value}" />
				</sly><br/>
				<div style="display:flex; vertical-align:center;">
					<div id="captcha_container" style="display:inline-block"></div><div style="color:#c6001e;display:inline-block;margin-top:-5px">*</div>
                </div>
                <div>
					<input type="submit" class="bgdss-ctaBtn bgdss-blackBtn" id="cortevaformSubmit" value="${properties.submit}"></input> 
                </div>
				<fieldset>
					<sly data-sly-test="${properties.disclaimer}">
                        <div>
                            <div>
                                <p data-sly-use.text="text.js"  data-sly-unwrap="${text.context == text.CONST.CONTEXT_HTML}" class="${text.cssClass}" data-emptytext="textImage">${text.item[0] @ context='html'}</p>
                            </div>
                        </div>
                    </sly>
				</fieldset>
			</form>
		</div>
	</div>
	</sly>
</div>
<!--End wrapper-->
<script>

    $(document).ready(function () {
		var referer = document.referrer;
  	if(referer!=''){
        var ourl = new URL(referer);
        var refererValue = $('input#refererValue').val();
		$('input#00N4100000SFmtJ').val(ourl);
        $(".choosebusiness").val(refererValue);
	}
    });
</script>
<script>
    (function(w){
    var sitekey = $('input#sitekey').val();

	w.loadCaptcha = function() {

		$("input[type=submit]").attr("disabled", "disabled");

		var expCallback = function() {
			$("input[type=submit]").attr("disabled", "disabled");
			grecaptcha.reset();
			
		};

      	 captchaContainer = grecaptcha.render('captcha_container', {
		 'sitekey' : sitekey,
		 'expired-callback': expCallback,			
         'callback' : function(response) {

			$.ajax({
                type: "POST", 
                url: "/bin/corteva/verifyRecaptcha?g-recaptcha-response="+response,

                dataType: "json",

                success: function (data) {

                if(data.status == "success"){
                	$("input[type=submit]").removeAttr("disabled");

                }else{
					$("input[type=submit]").attr("disabled");
                }
               }
            });
        }
      });
}
})(window)
</script>