<!--/*
  Copyright 2018,SapientRazorfish_; All Rights Reserved.
 
  This software is the confidential and proprietary information of SapientRazorfish_,
  ("Confidential Information"). You shall not disclose such Confidential Information and shall use it only in
  accordance with the terms of the license agreement you entered into with SapientRazorfish_.
*/-->



<div data-sly-use.comElement="com.corteva.model.component.models.CommonElementsModel" class="feature-flag" data-componentname="${comElement.componentName}" data-featureflagvalue="${comElement.featureFlagState}">
    <sly data-sly-test="${comElement.featureFlagState == 'on'}">
      <sly data-sly-test.editmode="${wcmmode.edit && !wcmmode.preview}" class="aem-helper">
      Edit Product Registration
      </sly>  
  <span id="checkagrian" data-dynamicState="${pageProperties.pdpSrc}"></span>
  <sly data-sly-test="${pageProperties.pdpSrc == 'agrian'}">
<span id="stateData" data-country="US"></span>
  </sly>
  <sly data-sly-test="${pageProperties.pdpSrc == 'nonagrian' || !pageProperties.pdpSrc}">
     <sly data-sly-use.productReg="${'com.corteva.model.component.models.ProductRegistrationModel' @ registrationCountry=properties.registrationCounry}">
      <div data-states="${productReg.registeredStates}" data-states-map="${productReg.registeredStatesMap}" id="stateData" data-country="${properties.registrationCounry}">
      </div>
    </sly>
  </sly>
  </sly>
  </div>
  
  <div class="band white white-bottom det28-product-registrations" id="product-registrations">
    <div class="band-content ui" id="list-view">
        <!-- This id is required. It's counter-intuiative, but it enables JS-free toggling -->
        <!-- <header> -->
        <header>
            <h2>${properties.title @ context='html'}</h2>
            <p class="subhead">${properties.overviewText @ context='html'}</p>
        </header>
        <ul class="legend">
            <li>
                <span class="legend-swatch active"></span>
                <span class="legend-title">${'legendlabel' @i18n,locale=productReg.localeForInternationalization}</span>
            </li>
            <li>
                <span class="legend-swatch disable"></span>
                <span class="legend-title">${'unreglabel' @i18n,locale=productReg.localeForInternationalization}</span>
            </li>
        </ul>
        <nav>
            <a class="active" href="#product-registrations" data-analytics-type="product-registration" data-analytics-value="map">${'mapviewlabel' @i18n,locale=productReg.localeForInternationalization}</a>
            <a href="#list-view" data-analytics-type="product-registration" data-analytics-value="list">${'listviewlabel' @i18n,locale=productReg.localeForInternationalization}</a>
        </nav>
    </div>

    <div id="map-d3" class="svg-container"></div>
    <!-- <div class="band-content map">
        <div id="visualization"></div>
        <a href="#list-view">
            
        </a>
    </div> -->
    <div class="band-content list">

    </div>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	<script type="text/javascript" src="https://www.google.com/jsapi?autoload={'modules':[{'name':'visualization','version':'1.1','packages':['orgchart']}]}"></script>
  </div>
